// Make sure the charset is set appropriately
@charset "UTF-8";

/*
 * Foundation settings
 */
@import "../bower/foundation/scss/foundation/_functions";
$primary-color: #2C8EC9 !default;//#0068C2 !default;
$secondary-color: #E7E7E7 !default;
$alert-color: #F76565 !default;
$success-color: #22BF64 !default;

$base-font-size: 14px;
$rem-base: $base-font-size;
$topbar-title-font-size: rem-calc(26);
$topbar-margin-bottom: 1rem;

$topbar-bg: $primary-color;
$topbar-link-bg: $topbar-bg;
$topbar-link-bg-hover: scale-color($topbar-link-bg, $lightness: -14%);
$topbar-link-bg-active: $topbar-link-bg;
$topbar-link-bg-active-hover: scale-color($topbar-link-bg, $lightness: -14%);
$topbar-dropdown-bg: scale-color($topbar-bg, $lightness: -28%);

$body-bg: #fff url(/static/img/linedpaper.png) repeat !default;
$row-width: rem-calc(1400);

@import
  "../bower/foundation/scss/normalize",
  "../bower/foundation/scss/foundation";

  
/*
 * Component CSS / SCSS
 */
@import "CSS:../bower/jquery-ui/themes/redmond/jquery-ui.min";
@import "../bower/font-awesome/scss/font-awesome";

/*
 * Custom Foundation overrides
 */
.column, .columns {
  position: static;
}
.row {
  position: relative;
}
h1, h2, h3, h4, h5, h6 {
  display: inline-block;
}
button, .button {
  h1, h2, h3, h4, h5, h6 {
    color: $topbar-link-color;
  }
  margin-bottom: 1rem;
}
.top-bar-section {
  i {
    padding-right: 0.25em;
  }
  .left {
    li {
      background-color: $topbar-bg;
    }
  }
}

/*
 * Custom Mixins
 */
@mixin box-shadow($top, $left, $blur, $color, $inset:"") {
  -webkit-box-shadow:$top $left $blur $color #{$inset};
  -moz-box-shadow:$top $left $blur $color #{$inset};
  box-shadow:$top $left $blur $color #{$inset};
}
@mixin opacity($trans) {
  filter: alpha(opactiy=($trans * 100));
  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=#{$trans * 100})";
  -moz-opacity: $trans;
  -khtml-opacity: $trans;
  opacity: $trans;
}
@mixin background-transition($duration:500ms) {
	-webkit-transition: background-color $duration linear;
	-moz-transition: background-color $duration linear;
	-o-transition: background-color $duration linear;
	-ms-transition: background-color $duration linear;
}

@mixin save($diameter) {
	@include radius(($diameter / 2));
	height: $diameter;
	text-align: center;
	width: $diameter;
	&.disabled {
		@include background-transition();
		background-color: rgba(0, 0, 0, 0.25);
		i.enabled, i.saving {
			display: none;
		}
		i.disabled {
			display: inline-block;
		}
	}
	&.enabled {
		@include background-transition();
		background-color: $success-color;
		&:hover {
			@include opacity(0.75);
			cursor: pointer;
		}
		i.disabled, i.saving {
			display: none;
		}
		i.enabled {
			display: inline-block;
		}
	}
	&.saving {
		background-color: $alert-color;
		i.enabled, i.disabled {
			display: none;
		}
		i.saving {
			display: inline-block;
		}
	}
	i {
		color: #fff;
		font-size: ($diameter * 2/3);
		padding: ($diameter * 1/6) 0;
	}
}

/*
 * Custom settings
 */
$footerHeight: 2rem;
$footer-bg: $topbar-bg;
$input-padding: 0.57143rem;
$max-z-index: 9999998;
/*
 * Custom styles
 */

.hide {
  display: none;
}
*, *:before, *:after {
  -webkit-box-sizing: border-box; /* Android = 2.3, iOS = 4 */
  -moz-box-sizing: border-box; /* Firefox 1+ */
  box-sizing: border-box; /* Chrome, IE 8+, Opera, Safari 5.1 */
}
// Necessary specificity
#content .click-away-overlay {
	background-color: rgba(0,0,0,0.5);
	display: none;
	height: 100%;
	left: 0;
	position: fixed;
	top: 0;
	width: 100%;
	z-index: ($max-z-index - 1);
}

/*
 * Sticky footer
 */
html, body {
  height: 100%;
}
#non-footer {
  min-height: 100%;
  position: relative;
}
* html #non-footer {
  height: 100%;
}
#page-container {
  padding-bottom: $footerHeight + $topbar-margin-bottom;
}
footer {
  background-color: $footer-bg;
  height: $footerHeight;
  margin-top: (-$footerHeight);
  position: relative;
  text-align: center;
  div {
    p:last-child {
      margin-bottom: 0;
    }
  }
}

/*
 * Entry form
 */
.entry-form-meta {
	overflow: hidden;
	white-space: nowrap;
	div {
		display: inline-block;
		max-width: 100%;
		h3 {
			margin-bottom: 0;
			max-width: 100%;
		}
	}
	.entry-info {
		display: block;
    overflow: hidden;
		white-space: normal;
		#location {
			display: block;
			overflow: hidden;
		}
		#at {
			float: left;
			margin-right: 1rem;
		}
	}
	.entry-save {
		@include save($diameter: 5rem);
    float: right;
		margin: 0;
		margin-left: 1rem;
	}
}

.content-editable {
	@include box-shadow(0, 1px, 2px, rgba(0,0,0,0.1), inset);
	@include radius(0);
	background: #fff;
	border: 1px solid #CCCCC6;
	cursor: text;
	height: auto;
	min-height: 3em;
	padding: 0.5em;
	&[data-placeholder]:not(:focus):empty:before {
    content: attr(data-placeholder);
    float: left;
    margin-left: 2px;
    color: #b3b3b3;
	}
}

/*
 * Time select (Entry form)
 */
#date {
	display: inline-block;
}
#start, #end {
	display: inline-block;
	margin: 0 auto;
}
.time-select {
  select {
    background-color: #fff;
    width: auto;
  }
}

/*
 * Select widget (Entry form)
 */
.single-select {
  .select-input {
    display: none;
  }
  .select-display {
    .link {
      border-bottom: 1px dashed $topbar-bg;
      color: $anchor-font-color;
			margin-right: 1rem;
			overflow: hidden;
			text-overflow: ellipsis;
			white-space: nowrap;
      &:hover {
				@include opacity(0.75);
        cursor: pointer;
      }
      &.selected-key {
      }
      &.placeholder {
        color: #E81010;
        font-style: italic
      }
      i {
        color: $body-font-color;
      }
    }
  }
  .select-drop {
    background-color: #fff;
    display: none;
    left: 0.5rem;
    position: absolute;
    right: 0.5rem;
    z-index: $max-z-index;
    .select-search {
      display: block;
      margin: 0.5em;
      position: relative;
      input {
        margin: 0;
        padding: $input-padding;
        width: 100%;
      }
      i {
        color: gray;
        padding: ($input-padding / 2);
        position: absolute;
        right: 0;
        top: 0;
      }
    }
    ul.select-options {
      list-style-type: none;
      margin: 0;
      padding: 0;
      li {
        border-top: 1px solid #CCCCC6;
        padding: 1em;
        &.option-selected {
          background: green;
        }
        &:hover {
          cursor: pointer;
        }
      }
    }
    .select-create {
      display: none;
      margin: 0.5em;
    }
  }
}

/*
 * Creation form modal
 */
.model-list {
	position: relative;
	.modal {
		background-color: #fff;
		display: none;
		top: 0.5rem;
		left: 25%;
		position: fixed;
		right: 25%;
		z-index: $max-z-index;
	}
}

/*
 * Manage widget
 */
$widget-bg: $topbar-bg;
.manage-widget {
  .manage-header {
    @include clearfix;
    @include side-radius(left);
    background-color: $widget-bg;
    margin-top: $topbar-margin-bottom;
    position: relative;
    a, .link {
      padding: 1em;
      h1, h2, h3, h4, h5, h6 {
        color: $topbar-link-color;
        height: 1em;
        line-height: 1em;
        margin: 0;
        padding: 0;
      }
    }
    a.left {
      width: 100%;
    }
    div.right {
      border-left: 1px solid scale-color($widget-bg, $lightness: -28%);
      position: absolute;
      right: 0;
      &:hover {
        cursor: pointer;
      }
    }
  }
  .manage-drop {
    display: none;
    margin-left: ($global-radius/2);
    ul {
      background-color: $widget-bg;
      margin: 0;
      padding: 0;
    }
  }
}

/*
 * Forms (e.g. login)
 */
.single-page-form {
  margin-top: 1rem;
}
.errorlist {
  list-style-type: none;
  margin: 0;
  padding: 0;
  li {
    background-color: $alert-color;
    border: 1px solid scale-color($alert-color, $lightness: 14%);
    padding: 0.5rem 1rem;
  }
}
 
/*
 * Widgets
 */
 // Rating
.rating label {
  display: inline-block;
  input[type=radio]{
    display: none;
  }
  input[type=radio] + img{
    border: 2px solid transparent;
    cursor: pointer;
  }
  input[type=radio]:checked + img{
    border: 2px solid #f00;
  }
}
